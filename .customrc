# .bashrc

# User specific aliases and functions

alias rm='rm -i'
alias cp='cp -i'
alias mv='mv -i'

export SVN_EDITOR=/usr/bin/vim

BLACK='\e[0;30m'
BLUE='\e[0;34m'
GREEN='\e[0;32m'
CYAN='\e[0;36m'
RED='\e[0;31m'
PURPLE='\e[0;35m'
BROWN='\e[0;33m'
LIGHTGRAY='\e[0;37m'
DARKGRAY='\e[1;30m'
LIGHTBLUE='\e[1;34m'
LIGHTGREEN='\e[1;32m'
LIGHTCYAN='\e[1;36m'
LIGHTRED='\e[1;31m'
LIGHTPURPLE='\e[1;35m'
YELLOW='\e[1;33m'
WHITE='\e[1;37m'
NC='\e[0m'              # No Color


PROMPT_PRE="#-\l-[ ${GREEN}\u${NC}@${GREEN}\h${NC} ]-["
PROMPT_POST="]-@ ${DARKGREY}\w${NC}\n#-(\j)-#\!-> "

function prompt_update {
	EXITSTATUS="$?"
	if [[ -d ./.svn ]]; then
		VCS_REPO=`svn info . | grep "^URL:" | cut -d " " -f 2`
		VCS_REV=`svn info . | grep "^Revision:" | cut -d " " -f 2`
		VCS_LAST_COMMITER=`svn info . | grep "^Last Changed Author:" | cut -d " " -f 4`
		VCS_LINE="#-${PURPLE}SVN${NC}-[repo: ${DARKGREY}${VCS_REPO}${NC}]\n"
		VCS_LINE="${VCS_LINE}#-${PURPLE}SVN${NC}-[rev: ${RED}${VCS_REV}${NC}]-"
		VCS_LINE="${VCS_LINE}[lastCommiter: ${LIGHTBLUE}${VCS_LAST_COMMITER}${NC}]\n"
        elif [[ -d ./.git ]]; then
#                VCS_REPO=`git svn info`
                 VCS_REPO="";
	else 
		VCS_LINE="";
	fi
	if [ "$EXITSTATUS" -eq "0" ]; then
		PRMT="\n${VCS_LINE}${PROMPT_PRE}${EXITSTATUS}${PROMPT_POST}"
	else
		PRMT="\n${VCS_LINE}${PROMPT_PRE}${RED}${EXITSTATUS}${NC}${PROMPT_POST}"
	fi
  PS1="$PRMT"
	case $TERM in
 xterm*|rxvt|Eterm|eterm)
		echo "\033]0;${USER}@${HOSTNAME%%.*}:($EXITSTATUS)${PWD/$HOME/~}\007"
		;;
 screen)
		echo -n "\033_${USER}@${HOSTNAME%%.*}:${PWD/#$HOME/~}"; echo -n "\033\\"
		;;
	esac
}


PS1="${PROMPT_PRE}0${PROMPT_POST}"


export PROMPT_COMMAND=prompt_update

export PATH="/usr/local/bin:$PATH"
export PATH="$(brew --prefix)/sbin:$PATH"
export PATH="$HOME/bin:$PATH"

alias phpunit='phpunit --stop-on-error --stop-on-failure'



